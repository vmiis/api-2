(function(){var n="notoken",t;$VmAPI.set_token=function(t,i,r,u,f){sessionStorage.setItem("ahsj634cupsd6349wquyewij4swq7202",t),sessionStorage.setItem("x7645hscvf650hd64083hgf69087201a",i),sessionStorage.setItem("h3879j478450wjh830ks9937300kj3kj",r),sessionStorage.setItem("gu8309ihd407js6h59eje8jhl630543h",u),sessionStorage.setItem("v84yw673jhekerhgs4fld54hdfzshjrt",f),n=t,t==""&&(n="notoken")},$VmAPI.clear_token=function(){sessionStorage.setItem("ahsj634cupsd6349wquyewij4swq7202","notoken"),sessionStorage.setItem("x7645hscvf650hd64083hgf69087201a",""),sessionStorage.setItem("h3879j478450wjh830ks9937300kj3kj",""),sessionStorage.setItem("gu8309ihd407js6h59eje8jhl630543h",""),sessionStorage.setItem("v84yw673jhekerhgs4fld54hdfzshjrt","")},$VmAPI.get_username=function(){return sessionStorage.getItem("h3879j478450wjh830ks9937300kj3kj")},t=0,$VmAPI.request=function(i){var u,r,f,e,o,s;t++,u=t,n=sessionStorage.getItem("ahsj634cupsd6349wquyewij4swq7202"),typeof n==undefined&&(console.log("safari bug"),n="notoken"),r=i.data,f=i.callback,$VmAPI.ajax_server_error=0,e=$VmAPI.api_base+"api.aspx?api=1",$vm.debug_message===!0&&(console.log(" "),console.log(r.cmd+"("+u+") TO "),console.dir(r)),o=(new Date).getTime(),s={Authorization:"Bearer "+n},$.ajax({headers:s,type:"POST",url:e,contentType:"application/json",charset:"utf-8",dataType:"json",error:function(n){n.status?alert(n.responseText):alert("Something went wrong")},data:JSON.stringify(r),success:function(n){var t=(new Date).getTime();if($vm.debug_message===!0&&(console.log(" "),console.log(r.cmd+"("+u+") FROM  --- "+(t-o).toString()+"ms"),console.dir(n)),$VmAPI.ajax_server_error!=1)try{f!==undefined&&f(n)}catch(i){alert(i.toString())}},dataFilter:$VmAPI.request_filter})},$VmAPI.connect=function(t,i,r,u){var e=$VmAPI.api_base.replace("https://","wss://")+"api.ashx",f=new WebSocket(e);f.onmessage=r,f.onopen=function(){f.send("VM_CONNECT:"+n+"|"+t+"|"+i),u(f)}}})(),$VmAPI.request_filter=function(n){var t=$.parseJSON(n);return t.Error!=undefined&&(alert(t.Error),$VmAPI.ajax_server_error=1,typeof $VmAPI.submit_div!="undefined"&&$VmAPI.submit_div!=""&&$("#D"+$VmAPI.submit_div).triggerHandler("submit_failed")),n}